<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="keywords" content=" update, upgrade, release, install">
<title>Update JATOS | JATOS 3 Documentation</title>
<link rel="stylesheet" href="css/syntax.css">

<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="css/modern-business.css">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/boxshadowproperties.css">
<!-- most color styles are extracted out to here -->
<link rel="stylesheet" href="css/theme-blue.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>


<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Anchor.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<link rel="shortcut icon" href="images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="jatos_docs_v3" href="http://localhost:4000/feed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>
    

</head>
<body>
<script data-name="BMC-Widget" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" data-id="jatos" data-description="" data-message="" data-color="#FF813F" data-position="right" data-x_margin="18" data-y_margin="18"></script>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-static-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="Whats-JATOS.html"><span class="projectTitle"><img src="images/jatos_logo_color.svg" height="20">&nbsp;JATOS 3 Documentation</span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- entries without drop-downs appear here -->




                
                
                
                <li><a href="https://github.com/JATOS/JATOS/releases/latest" target="_blank">Download</a></li>
                
                
                
                <li><a href="Example-Studies.html" target="_blank">Example Studies</a></li>
                
                
                
                <li><a href="http://blog.jatos.org" target="_blank">Blog</a></li>
                
                
                
                <li><a href="Contact-us.html">Contact</a></li>
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: 'search.json',
                                searchResultTemplate: '<li><a href="{url}" title="Update JATOS">{title}</a></li>',
                    noResultsText: 'No results found.',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
  <div id="main">
    <!-- Content Row -->
    <div class="row">
        
        
            <!-- Sidebar Column -->
            <div class="col-md-3" id="tg-sb-sidebar">
                

<ul id="mysidebar" class="nav">
  <li class="sidebarTitle"> </li>
  
  
  
      
  
  <li>
      <a href="#">Overview</a>
      <ul>
          
          
          
          <li><a href="Whats-JATOS.html">What's JATOS</a></li>
          
          
          
          
          
          
          <li><a href="Papers-Citing-JATOS.html">Papers citing JATOS</a></li>
          
          
          
          
          
          
          <li><a href="Contact-us.html">Contact us</a></li>
          
          
          
          
          
          
          <li><a href="Installation.html">Installation</a></li>
          
          
          
          
          
          
          <li><a href="Get-started.html">Get started</a></li>
          
          
          
          
          
          
          <li><a href="Run-an-experiment-with-JATOS-Workflow.html">Run an experiment with JATOS - Workflow</a></li>
          
          
          
          
          
          
          <li><a href="Data-Privacy-and-Ethics.html">Data Privacy and Ethics</a></li>
          
          
          
          
          
          
          <li><a href="JATOS-Tryout-Server.html">JATOS Tryout Server</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Write your study</a>
      <ul>
          
          
          
          <li><a href="Create-a-new-study.html">Create a new study</a></li>
          
          
          
          
          
          
          <li><a href="Mandatory-lines-in-your-components-HTML.html">Mandatory lines in your components' HTML</a></li>
          
          
          
          
          
          
          <li><a href="Adapt-Pre-written-Code-to-run-it-in-JATOS.html">Adapt Pre written Code to run it in JATOS (Jatosify)</a></li>
          
          
          
          
          
          
          <li><a href="jsPsych-and-JATOS.html">jsPsych and JATOS</a></li>
          
          
          
          
          
          
          <li><a href="labjs-and-JATOS.html">lab.js and JATOS</a></li>
          
          
          
          
          
          
          <li><a href="OSWeb-and-JATOS.html">OSWeb and JATOS</a></li>
          
          
          
          
          
          
          <li><a href="Submit-and-upload-data-to-the-server.html">Result data and result uploads</a></li>
          
          
          
          
          
          
          <li><a href="Session-Data-Three-Types.html">Session Data - Three Types</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Run your study</a>
      <ul>
          
          
          
          <li><a href="Deploy-to-a-server-installation.html">Deploy to a server installation</a></li>
          
          
          
          
          
          
          <li><a href="Run-your-Study-with-Worker-and-Batch-Manager.html">Run your Study with Worker & Batch Manager</a></li>
          
          
          
          
          
          
          <li><a href="Restricting-study-flow.html">Restricting study flow</a></li>
          
          
          
          
          
          
          <li><a href="Worker-Types.html">Worker Types</a></li>
          
          
          
          
          
          
          <li><a href="Connect-to-Mechanical-Turk.html">Use MTurk</a></li>
          
          
          
          
          
          
          <li><a href="Use-Prolific.html">Use Prolific</a></li>
          
          
          
          
          
          
          <li><a href="Cross-sectional-and-longitudinal-studies.html">Write cross-sectional and longitudinal studies</a></li>
          
          
          
          
          
          
          <li><a href="Manage-Results.html">Manage Results</a></li>
          
          
          
          
          
          
          <li><a href="End-page-after-your-study-finished.html">End page - what's after your study finished</a></li>
          
          
          
          
          
          
          <li><a href="Study-Log.html">Study Log</a></li>
          
          
          
          
          
          
          <li><a href="Tips-and-Tricks.html">Tips & Tricks</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Manage your JATOS</a>
      <ul>
          
          
          
          <li><a href="User-Manager.html">Manage JATOS users</a></li>
          
          
          
          
          
          
          <li><a href="Change-studys-members.html">Change study's members</a></li>
          
          
          
          
          
          
          <li class="active"><a href="Update-JATOS.html">Update JATOS</a></li>
          
          
          
          
          
          
          <li><a href="Troubleshooting.html">Troubleshooting</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Group Studies</a>
      <ul>
          
          
          
          <li><a href="Example-Group-Studies.html">Example Group Studies</a></li>
          
          
          
          
          
          
          <li><a href="Write-Group-Studies-I-Setup.html">Write Group Studies I - Setup</a></li>
          
          
          
          
          
          
          <li><a href="Write-Group-Studies-II-JavaScript-and-Messaging.html">Write Group Studies II - JavaScript and Messaging</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Serving the Internet</a>
      <ul>
          
          
          
          <li><a href="Bring-your-JATOS-online.html">Bring your JATOS online</a></li>
          
          
          
          
          
          
          <li><a href="Expose-your-local-JATOS.html">Expose your local JATOS</a></li>
          
          
          
          
          
          
          <li><a href="JATOS-on-DigitalOcean.html">JATOS on DigitalOcean</a></li>
          
          
          
          
          
          
          <li><a href="JATOS-in-Amazons-Cloud-without-Docker.html">JATOS on AWS</a></li>
          
          
          
          
          
          
          <li><a href="JATOS-on-a-server.html">Install JATOS on a server</a></li>
          
          
          
          
          
          
          <li><a href="Configure-JATOS-on-a-Server.html">Configure JATOS on a Server</a></li>
          
          
          
          
          
          
          <li><a href="JATOS-with-Nginx.html">JATOS with Nginx</a></li>
          
          
          
          
          
          
          <li><a href="JATOS-with-Apache.html">JATOS with Apache</a></li>
          
          
          
          
          
          
          <li><a href="Updating-a-JATOS-server-installation.html">Updating a JATOS server installation</a></li>
          
          
          
          
          
          
          <li><a href="Install-JATOS-via-Docker.html">Install JATOS via Docker</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Reference</a>
      <ul>
          
          
          
          <li><a href="jatos.js-Reference.html">jatos.js Reference</a></li>
          
          
          
          
      </ul>
   </li>
     
      
      
      <!-- if you aren't using the accordion, uncomment this block:
         <p class="external">
             <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
         </p>
         -->
</ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

            </div>
            
        

        <!-- Content Column -->
        <div class="col-md-9" id="tg-sb-content">
            <div class="post-header">
   <h1 class="post-title-main">Update JATOS</h1>
</div>



<div class="post-content">

   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>

    


    

    <a target="_blank" href="https://github.com/JATOS/JATOS_docs_v3/blob/gh-pages/pages//Update-JATOS.md" class="btn btn-default githubEditButton" role="button"><i class="fa fa-github fa-lg"></i> Edit me</a>

    


    

  <p>We’ll periodically update JATOS with new features and bug fixes. We recommend you stay up to date with the <a href="https://github.com/JATOS/JATOS/releases">latest release</a>. However if you are currently running a study it’s always safest to keep the same JATOS version throughout the whole experiment.</p>

<h2 id="automatic-updates">Automatic Updates</h2>

<p>Since version 3.3.5 you can update your JATOS automatically (if you have <strong>admin rights</strong> and running on <strong>Mac OS</strong> or <strong>Linux</strong> (including <strong>Docker</strong>), that is). <strong>Windows is not yet supported</strong>.</p>

<h3 id="normal-process">Normal process</h3>

<p>The process is pretty self-explanatory, but anyway, we’ll explain it here in detail:</p>

<ol>
  <li>
    <p>If your JATOS version is not the latest one available, you will get a notification in your JATOS’ home page.</p>

    <p><img src="images/autoupdate-notification.png" alt="Update notification Schreenshot" /></p>
  </li>
  <li>We expect no problems, but sh&amp;t happens. We recommend that you <strong>back up your result data, result files, study assets folder and study logs</strong> before continuing.</li>
  <li>Click on <em>Update</em>, confirm that you want to continue and the latest JATOS version will be downloaded from GitHub and saved in your system’s temporary folder. Usually the variant downloaded will be the one without bundled Java. Only in cases where JATOS switches to a newer version of Java a bundled version is required <a href="#Versions-with-newer-Java-required">(see below)</a>. The download might take a while depending on your internet connection.</li>
  <li>
    <p>After dównload is complete, you will be asked again for confirmation. By default, JATOS will <strong>back up</strong>: it will copy the content of its own installation folder into a folder with the name <em>backup_x.x.x</em> (x.x.x is the version before the update). This will usually include your H2 database, your study assets and logs - <strong>but not your MySQL database</strong> (should you have one). If anything goes wrong in the auto-update, you have everything in this backup folder to start the old JATOS again. This backup will use up disk space (therefore you can opt out).</p>

    <p><img src="images/autoupdate-update-and-restart.png" alt="Update notification Schreenshot" /></p>
  </li>
  <li>After clicking the <em>Go on</em> button, JATOS will stop itself, replace its program files and re-start itself again. This might take up to a minute.</li>
  <li>Refresh your JATOS home page every now and then until you see your updated JATOS’ login screen again.</li>
  <li>Check the new JATOS with the build-in test page <a href="http://localhost:9000/jatos/test">localhost:9000/jatos/test</a> in the browser. All tests should be OK.</li>
</ol>

<h3 id="special-cases">Special cases</h3>

<h4 id="pre-releases-experimental">Pre-releases (experimental)</h4>
<p>Pre-releases will not be available as auto-updates by default. If you want to force this to be the case (and you know what you’re doing), append the parameter <em>allowPreReleases</em> to your JATOS home page URL (e.g. <em>localhost/jatos?allowPreReleases</em>).</p>

<h4 id="enforce-an-update-to-a-special-version-experimental">Enforce an update to a special version (experimental)</h4>
<p>The parameter <em>version</em> can be added to your JATOS home page URL (e.g. <em>localhost/jatos?version=v3.4.1</em>) and takes the version tag as specified in GitHub and enforces an update to this version. This should never be used on a JATOS server that stores any valuable data.</p>

<h4 id="major-updates">Major updates</h4>
<p>Auto-updating might not always be possible. JATOS versions will be flagged so that they are not available for auto-update. You’ll have to do a <a href="#Manual-Updates">manual update</a>.</p>

<h4 id="versions-with-newer-java-required">Versions with newer Java required</h4>
<p>Since version 3.4.1 JATOS uses Java 11 - older versions use Java 8. Future versions will likely require newer Java versions. If you’re updating from a JATOS version using Java 8 to (say) another version using Java 11, the auto-update process will automatically download JATOS bundled with the new Java, regardless of wich variant you are currently using. If you do not like the bundled Java and use your own version you can always remove the folder <em>jre</em> later on after the update.</p>

<h2 id="manual-updates">Manual Updates</h2>

<h3 id="updating-a-local-installation-of-jatos">Updating a local installation of JATOS</h3>
<p>(The procedure is different if you want to <a href="Updating-a-JATOS-server-installation.html">update JATOS on a server installation</a>)</p>

<p>To be absolutely safe you can install the new JATOS version and keep the old one untouched. This way you can switch back if something fails. Just remember that only one JATOS can run at the same time. Always stop your old JATOS instance before starting another one.</p>

<p>After updating you can check the new JATOS with the build-in test page <a href="http://127.0.0.1:9000/jatos/test">127.0.0.1:9000/jatos/test</a> in the browser. All tests should be OK.</p>

<p>You can update your local JATOS instance in two main ways:</p>

<h4 id="first-easy-way-discarding-your-result-data">First, easy way: discarding your result data</h4>

<p>If you don’t care about result data stored in JATOS:</p>

<ol>
  <li>Export any studies you wish to keep from the old JATOS installation.</li>
  <li>Download and install the new version as if it were a new fresh download. Don’t start it yet.</li>
  <li>Stop the old JATOS and start the new JATOS.</li>
  <li>Import all the studies your previously exported. This will transfer the files and subfolders in your study’s asset folder (HTML, JavaScript, CSS files).</li>
</ol>

<p><strong>What will be transferred:</strong></p>

<ol>
  <li>Files and subfolders in study’s assets folder</li>
  <li>All your studies’ and components’ properties</li>
  <li>The <strong>properties</strong> of the first (Default) batch</li>
</ol>

<p><strong>What will be lost:</strong></p>

<ol>
  <li><strong>All result data will be lost</strong></li>
  <li>All workers in all batches (including Default batch)</li>
  <li>All batches other than the Default batch</li>
  <li>All study logs</li>
</ol>

<h4 id="second-way-keeping-everything-including-your-result-data">Second way: keeping everything (including your result data)</h4>

<p>If you do want to keep your studies, batches, and your result data you’ll have to move them to the new JATOS.</p>

<ol>
  <li>Stop JATOS (on Unix systems, type <code class="highlighter-rouge">$ ./loader.sh stop</code> on the terminal. On Windows MS, close your command window)</li>
  <li>Go to the folder of your old JATOS installation. From there copy your assets root folder to the new JATOS installation (Note: By default your assets root folder is called <code class="highlighter-rouge">study_assets_root</code> and lays in the JATOS folder but you might have changed this. You can find the location and name in <code class="highlighter-rouge">conf/production.conf</code>. It is specified in the line beginning with <code class="highlighter-rouge">jatos.studyAssetsRootPath=</code>.)</li>
  <li>Go to the folder of your old JATOS installation. From there copy your folder of your uploaded result files to the new JATOS installation (Note: By default this folder is called <code class="highlighter-rouge">result_uploads</code> and lays in the JATOS folder but you might have changed this. You can find the location and name in <code class="highlighter-rouge">conf/production.conf</code>. It is specified in the line beginning with <code class="highlighter-rouge">jatos.resultUploads.path=</code>.)</li>
  <li>From the folder of your old JATOS installation copy the folders <code class="highlighter-rouge">database</code> and <code class="highlighter-rouge">study_logs</code> to the folder of the new JATOS installation.</li>
  <li>If you had changed the <code class="highlighter-rouge">conf/production.conf</code> file in your old JATOS instance (for example to set a custom location for your <code class="highlighter-rouge">study_assets_root</code> folder) you’ll have to do this again in the new JATOS version. We recommend re-editing the new version of the file, rather than just overwriting the new with the old version, in case anything in the <code class="highlighter-rouge">production.conf</code> file has changed.</li>
  <li>Start the new JATOS (on Unix systems, type <code class="highlighter-rouge">$ ./loader.sh start</code> on the terminal. On Windows double click the <code class="highlighter-rouge">loader.bat</code>)</li>
  <li>Open JATOS’ test page in a browser <code class="highlighter-rouge">/jatos/test</code> and test that everything is <strong>OK</strong></li>
</ol>

<p><strong>What will be transferred:</strong></p>

<ol>
  <li>Files and subfolders in study assets folder</li>
  <li>All your study and components properties</li>
  <li>All batches, together with their workers, generated links, and results</li>
  <li>All study logs</li>
</ol>

<p><strong>What will be lost:</strong>
nothing</p>


    <div class="tags">
        
    </div>




</div>

<hr class="shaded"/>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
<span>Page last updated:</span> 7 Feb 2020
                </div>
            </div>
</footer>


        </div>
    <!-- /.row -->
</div>
<!-- /.container -->
</div>
<!-- /#main -->
    </div>

</body>

<!-- the google_analytics_id gets auto inserted from the config file -->



<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-57013276-1','auto');ga('require','displayfeatures');ga('send','pageview');</script>


</html>
